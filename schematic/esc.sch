EESchema Schematic File Version 2
LIBS:amp
LIBS:avr
LIBS:buttons
LIBS:connectors
LIBS:dc-dc
LIBS:displays
LIBS:drivers
LIBS:logic
LIBS:mems
LIBS:optic
LIBS:passive
LIBS:power
LIBS:rtc
LIBS:sensors
LIBS:speakers
LIBS:transform
LIBS:transist
LIBS:wireless
LIBS:esc-cache
EELAYER 25 0
EELAYER END
$Descr A3 16535 11693
encoding utf-8
Sheet 1 1
Title "Doodlebug ESC"
Date "2016-11-15"
Rev ""
Comp ""
Comment1 ""
Comment2 "S. Ivanov"
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L PIN_3X1 PIN?
U 1 1 582B1AC5
P 8250 10250
F 0 "PIN?" H 8500 10250 60  0000 C CNN
F 1 "low_input" H 8600 10050 60  0000 C CNN
F 2 "" H 8200 10250 60  0000 C CNN
F 3 "" H 8200 10250 60  0000 C CNN
	1    8250 10250
	1    0    0    -1  
$EndComp
$Comp
L MOSFET-n VT?
U 1 1 582EF92E
P 3650 2900
F 0 "VT?" H 3500 3075 60  0000 C CNN
F 1 "IRL3803L" H 3650 2650 60  0000 C CNN
F 2 "" H 3650 2900 60  0000 C CNN
F 3 "" H 3650 2900 60  0000 C CNN
	1    3650 2900
	1    0    0    -1  
$EndComp
$Comp
L MOSFET-p VT?
U 1 1 582EF9A5
P 3650 2000
F 0 "VT?" H 3500 2175 60  0000 C CNN
F 1 "IRF4905L" H 3650 1750 60  0000 C CNN
F 2 "" H 3650 2000 60  0000 C CNN
F 3 "" H 3650 2000 60  0000 C CNN
	1    3650 2000
	1    0    0    -1  
$EndComp
$Comp
L PIN_2X1 PIN?
U 1 1 582EFFC0
P 9200 10250
F 0 "PIN?" H 9410 10250 60  0000 C CNN
F 1 "hi_input" H 9500 10150 60  0000 C CNN
F 2 "" H 9150 10250 60  0000 C CNN
F 3 "" H 9150 10250 60  0000 C CNN
	1    9200 10250
	1    0    0    -1  
$EndComp
$Comp
L PIN_3X1 PIN?
U 1 1 582EFFFB
P 6950 10250
F 0 "PIN?" H 7200 10250 60  0000 C CNN
F 1 "motor" H 7200 10050 60  0000 C CNN
F 2 "" H 6900 10250 60  0000 C CNN
F 3 "" H 6900 10250 60  0000 C CNN
	1    6950 10250
	1    0    0    -1  
$EndComp
$Comp
L npn VT?
U 1 1 58316644
P 2800 2450
F 0 "VT?" H 2650 2625 60  0000 C CNN
F 1 "BC547" H 2800 2200 60  0000 C CNN
F 2 "" H 2800 2450 60  0000 C CNN
F 3 "" H 2800 2450 60  0000 C CNN
	1    2800 2450
	1    0    0    -1  
$EndComp
$Comp
L RES R?
U 1 1 583166A5
P 2150 2500
F 0 "R?" H 2150 2600 60  0000 C CNN
F 1 "1k" H 2150 2500 60  0000 C CNN
F 2 "" H 2150 2500 60  0000 C CNN
F 3 "" H 2150 2500 60  0000 C CNN
	1    2150 2500
	1    0    0    -1  
$EndComp
$Comp
L RES R?
U 1 1 583166F2
P 2150 2950
F 0 "R?" H 2150 3050 60  0000 C CNN
F 1 "33" H 2150 2950 60  0000 C CNN
F 2 "" H 2150 2950 60  0000 C CNN
F 3 "" H 2150 2950 60  0000 C CNN
	1    2150 2950
	1    0    0    -1  
$EndComp
$Comp
L RES R?
U 1 1 58316782
P 3200 1600
F 0 "R?" H 3200 1700 60  0000 C CNN
F 1 "270" H 3200 1600 60  0000 C CNN
F 2 "" H 3200 1600 60  0000 C CNN
F 3 "" H 3200 1600 60  0000 C CNN
	1    3200 1600
	1    0    0    -1  
$EndComp
$Comp
L +12V #PWR?
U 1 1 583167FB
P 3700 1400
F 0 "#PWR?" H 3700 1300 50  0001 C CNN
F 1 "+12V" V 3700 1525 50  0000 C CNN
F 2 "" H 3700 1400 60  0000 C CNN
F 3 "" H 3700 1400 60  0000 C CNN
	1    3700 1400
	1    0    0    -1  
$EndComp
$Comp
L RES R?
U 1 1 58316B84
P 3100 3350
F 0 "R?" H 3100 3450 60  0000 C CNN
F 1 "10k" H 3100 3350 60  0000 C CNN
F 2 "" H 3100 3350 60  0000 C CNN
F 3 "" H 3100 3350 60  0000 C CNN
	1    3100 3350
	0    1    1    0   
$EndComp
Wire Wire Line
	2400 2950 3450 2950
Wire Wire Line
	3100 2950 3100 3100
Wire Wire Line
	3100 3600 3100 3750
Wire Wire Line
	3700 3100 3700 3750
Text GLabel 3900 2450 2    60   UnSpc ~ 0
motor_a
Text GLabel 3500 2450 0    60   UnSpc ~ 0
sense_a
Wire Wire Line
	3500 2450 3900 2450
Wire Wire Line
	3700 2200 3700 2700
Connection ~ 3700 2450
Wire Wire Line
	3450 1600 3700 1600
Wire Wire Line
	3700 1400 3700 1800
Connection ~ 3700 1600
Wire Wire Line
	2950 1600 2850 1600
Wire Wire Line
	2850 1600 2850 2250
Wire Wire Line
	3450 2050 2850 2050
Connection ~ 2850 2050
Wire Wire Line
	2850 2650 2850 3750
Wire Wire Line
	2600 2500 2400 2500
Connection ~ 3100 2950
Text GLabel 1700 2500 0    60   UnSpc ~ 0
motor_u_hi
Text GLabel 1700 2950 0    60   UnSpc ~ 0
motor_u_lo
Wire Wire Line
	1900 2500 1700 2500
Wire Wire Line
	1900 2950 1700 2950
$Comp
L RES R?
U 1 1 58317CAF
P 1950 5100
F 0 "R?" H 1950 5200 60  0000 C CNN
F 1 "4k7" H 1950 5100 60  0000 C CNN
F 2 "" H 1950 5100 60  0000 C CNN
F 3 "" H 1950 5100 60  0000 C CNN
	1    1950 5100
	1    0    0    -1  
$EndComp
$Comp
L RES R?
U 1 1 58317CF9
P 1950 5400
F 0 "R?" H 1950 5500 60  0000 C CNN
F 1 "10k" H 1950 5400 60  0000 C CNN
F 2 "" H 1950 5400 60  0000 C CNN
F 3 "" H 1950 5400 60  0000 C CNN
	1    1950 5400
	1    0    0    -1  
$EndComp
$Comp
L RES R?
U 1 1 58317D3C
P 2850 5100
F 0 "R?" H 2850 5200 60  0000 C CNN
F 1 "4k7" H 2850 5100 60  0000 C CNN
F 2 "" H 2850 5100 60  0000 C CNN
F 3 "" H 2850 5100 60  0000 C CNN
	1    2850 5100
	1    0    0    -1  
$EndComp
Text GLabel 1500 5100 0    60   UnSpc ~ 0
sense_a
Text GLabel 2400 4900 1    60   UnSpc ~ 0
adc_u
Text GLabel 3250 5100 2    60   UnSpc ~ 0
ain
$Comp
L CAP C?
U 1 1 58317F22
P 2850 5400
F 0 "C?" H 2850 5550 60  0000 C CNN
F 1 "100n" H 2850 5250 60  0000 C CNN
F 2 "" H 2850 5400 60  0000 C CNN
F 3 "" H 2850 5400 60  0000 C CNN
	1    2850 5400
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 58317F83
P 1500 5650
F 0 "#PWR?" H 1500 5750 50  0001 C CNN
F 1 "GND" H 1500 5500 50  0000 C CNN
F 2 "" H 1500 5650 60  0000 C CNN
F 3 "" H 1500 5650 60  0000 C CNN
	1    1500 5650
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 58317FBB
P 3250 5650
F 0 "#PWR?" H 3250 5750 50  0001 C CNN
F 1 "GND" H 3250 5500 50  0000 C CNN
F 2 "" H 3250 5650 60  0000 C CNN
F 3 "" H 3250 5650 60  0000 C CNN
	1    3250 5650
	1    0    0    -1  
$EndComp
Wire Wire Line
	2400 4900 2400 5400
Wire Wire Line
	2200 5400 2700 5400
Connection ~ 2400 5400
Wire Wire Line
	2200 5100 2600 5100
Connection ~ 2400 5100
Wire Wire Line
	1700 5400 1500 5400
Wire Wire Line
	1500 5400 1500 5650
Wire Wire Line
	1700 5100 1500 5100
Wire Wire Line
	3250 5650 3250 5400
Wire Wire Line
	3250 5400 3000 5400
Wire Wire Line
	3100 5100 3250 5100
Text GLabel 12900 7450 0    60   UnSpc ~ 0
ain
Text GLabel 12900 6050 0    60   UnSpc ~ 0
adc_u
Text GLabel 6750 10250 0    60   UnSpc ~ 0
motor_a
Text GLabel 11650 6250 0    60   UnSpc ~ 0
motor_u_lo
Text GLabel 11700 6100 0    60   UnSpc ~ 0
motor_u_hi
$Comp
L ATMEGA88PA-AU U?
U 1 1 58318AF0
P 14000 6250
F 0 "U?" H 13350 7450 60  0000 C CNN
F 1 "ATMEGA88PA-AU" V 14600 5900 60  0000 C CNN
F 2 "" H 14000 6250 60  0000 C CNN
F 3 "" H 14000 6250 60  0000 C CNN
	1    14000 6250
	1    0    0    -1  
$EndComp
Text GLabel 12900 6150 0    60   UnSpc ~ 0
adc_v
Text GLabel 12900 6250 0    60   UnSpc ~ 0
adc_w
Wire Wire Line
	12900 6050 13150 6050
Wire Wire Line
	12900 6150 13150 6150
Wire Wire Line
	12900 6250 13150 6250
Wire Wire Line
	12900 7450 13150 7450
Text GLabel 6750 10350 0    60   UnSpc ~ 0
motor_b
Text GLabel 6750 10450 0    60   UnSpc ~ 0
motor_c
Wire Wire Line
	6750 10250 6950 10250
Wire Wire Line
	6750 10350 6950 10350
Wire Wire Line
	6750 10450 6950 10450
Text GLabel 12900 5550 0    60   UnSpc ~ 0
isp_miso
Text GLabel 12900 5450 0    60   UnSpc ~ 0
isp_mosi
Text GLabel 12900 5650 0    60   UnSpc ~ 0
isp_sck
Text GLabel 11600 5400 0    60   UnSpc ~ 0
isp_rst
Wire Wire Line
	12900 5450 13150 5450
Wire Wire Line
	12900 5550 13150 5550
Wire Wire Line
	12900 5650 13150 5650
$Comp
L GND #PWR?
U 1 1 5831A512
P 14950 7750
F 0 "#PWR?" H 14950 7850 50  0001 C CNN
F 1 "GND" H 14950 7600 50  0000 C CNN
F 2 "" H 14950 7750 60  0000 C CNN
F 3 "" H 14950 7750 60  0000 C CNN
	1    14950 7750
	1    0    0    -1  
$EndComp
Wire Wire Line
	14800 7350 14950 7350
Wire Wire Line
	14950 7350 14950 7750
Wire Wire Line
	14800 7450 14950 7450
Connection ~ 14950 7450
Wire Wire Line
	14800 7550 14950 7550
Connection ~ 14950 7550
$Comp
L +12V #PWR?
U 1 1 5834A100
P 10100 10400
F 0 "#PWR?" H 10100 10300 50  0001 C CNN
F 1 "+12V" V 10100 10525 50  0000 C CNN
F 2 "" H 10100 10400 60  0000 C CNN
F 3 "" H 10100 10400 60  0000 C CNN
	1    10100 10400
	-1   0    0    1   
$EndComp
$Comp
L GND #PWR?
U 1 1 5834A147
P 11000 10400
F 0 "#PWR?" H 11000 10500 50  0001 C CNN
F 1 "GND" H 11000 10250 50  0000 C CNN
F 2 "" H 11000 10400 60  0000 C CNN
F 3 "" H 11000 10400 60  0000 C CNN
	1    11000 10400
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 5834A233
P 8100 10650
F 0 "#PWR?" H 8100 10750 50  0001 C CNN
F 1 "GND" H 8100 10500 50  0000 C CNN
F 2 "" H 8100 10650 60  0000 C CNN
F 3 "" H 8100 10650 60  0000 C CNN
	1    8100 10650
	1    0    0    -1  
$EndComp
$Comp
L +5V #PWR?
U 1 1 5834A26D
P 8100 10100
F 0 "#PWR?" H 8100 10000 50  0001 C CNN
F 1 "+5V" V 8100 10200 50  0000 C CNN
F 2 "" H 8100 10100 60  0000 C CNN
F 3 "" H 8100 10100 60  0000 C CNN
	1    8100 10100
	1    0    0    -1  
$EndComp
Text GLabel 8050 10350 0    60   UnSpc ~ 0
pwm_input
Wire Wire Line
	8250 10250 8100 10250
Wire Wire Line
	8100 10250 8100 10100
Wire Wire Line
	8250 10350 8050 10350
Wire Wire Line
	8250 10450 8100 10450
Wire Wire Line
	8100 10450 8100 10650
$Comp
L +5V #PWR?
U 1 1 5834A4BF
P 10550 10400
F 0 "#PWR?" H 10550 10300 50  0001 C CNN
F 1 "+5V" V 10550 10500 50  0000 C CNN
F 2 "" H 10550 10400 60  0000 C CNN
F 3 "" H 10550 10400 60  0000 C CNN
	1    10550 10400
	-1   0    0    1   
$EndComp
$Comp
L PWR_FLAG #FLG?
U 1 1 5834A544
P 11000 10200
F 0 "#FLG?" H 11000 10400 50  0001 C CNN
F 1 "PWR_FLAG" H 11000 10300 50  0000 C CNN
F 2 "" H 11000 10200 60  0000 C CNN
F 3 "" H 11000 10200 60  0000 C CNN
	1    11000 10200
	1    0    0    -1  
$EndComp
$Comp
L PWR_FLAG #FLG?
U 1 1 5834A5B0
P 10550 10200
F 0 "#FLG?" H 10550 10400 50  0001 C CNN
F 1 "PWR_FLAG" H 10550 10300 50  0000 C CNN
F 2 "" H 10550 10200 60  0000 C CNN
F 3 "" H 10550 10200 60  0000 C CNN
	1    10550 10200
	1    0    0    -1  
$EndComp
$Comp
L PWR_FLAG #FLG?
U 1 1 5834A5E8
P 10100 10200
F 0 "#FLG?" H 10100 10400 50  0001 C CNN
F 1 "PWR_FLAG" H 10100 10300 50  0000 C CNN
F 2 "" H 10100 10200 60  0000 C CNN
F 3 "" H 10100 10200 60  0000 C CNN
	1    10100 10200
	1    0    0    -1  
$EndComp
Wire Wire Line
	10100 10200 10100 10400
Wire Wire Line
	10550 10200 10550 10400
Wire Wire Line
	11000 10200 11000 10400
$Comp
L +5V #PWR?
U 1 1 5834A9AC
P 14950 4900
F 0 "#PWR?" H 14950 4800 50  0001 C CNN
F 1 "+5V" V 14950 5000 50  0000 C CNN
F 2 "" H 14950 4900 60  0000 C CNN
F 3 "" H 14950 4900 60  0000 C CNN
	1    14950 4900
	1    0    0    -1  
$EndComp
Wire Wire Line
	14800 5350 14950 5350
Wire Wire Line
	14950 5350 14950 4900
Wire Wire Line
	14800 5250 14950 5250
Connection ~ 14950 5250
Wire Wire Line
	14800 5150 14950 5150
Connection ~ 14950 5150
$Comp
L +12V #PWR?
U 1 1 5834AE14
P 9050 10100
F 0 "#PWR?" H 9050 10000 50  0001 C CNN
F 1 "+12V" V 9050 10225 50  0000 C CNN
F 2 "" H 9050 10100 60  0000 C CNN
F 3 "" H 9050 10100 60  0000 C CNN
	1    9050 10100
	1    0    0    -1  
$EndComp
Wire Wire Line
	9200 10250 9050 10250
Wire Wire Line
	9050 10250 9050 10100
Wire Wire Line
	9200 10350 9050 10350
Wire Wire Line
	9050 10350 9050 10650
$Comp
L GNDPWR #PWR?
U 1 1 5834B67F
P 9050 10650
F 0 "#PWR?" H 9050 10450 50  0001 C CNN
F 1 "GNDPWR" H 9050 10520 50  0000 C CNN
F 2 "" H 9050 10600 60  0000 C CNN
F 3 "" H 9050 10600 60  0000 C CNN
	1    9050 10650
	1    0    0    -1  
$EndComp
$Comp
L PWR_FLAG #FLG?
U 1 1 5834B8C3
P 11450 10200
F 0 "#FLG?" H 11450 10400 50  0001 C CNN
F 1 "PWR_FLAG" H 11450 10300 50  0000 C CNN
F 2 "" H 11450 10200 60  0000 C CNN
F 3 "" H 11450 10200 60  0000 C CNN
	1    11450 10200
	1    0    0    -1  
$EndComp
$Comp
L GNDPWR #PWR?
U 1 1 5834B919
P 11450 10400
F 0 "#PWR?" H 11450 10200 50  0001 C CNN
F 1 "GNDPWR" H 11450 10270 50  0000 C CNN
F 2 "" H 11450 10350 60  0000 C CNN
F 3 "" H 11450 10350 60  0000 C CNN
	1    11450 10400
	1    0    0    -1  
$EndComp
Wire Wire Line
	11450 10200 11450 10400
$Comp
L GNDPWR #PWR?
U 1 1 5834B9B1
P 3700 3750
F 0 "#PWR?" H 3700 3550 50  0001 C CNN
F 1 "GNDPWR" H 3700 3620 50  0000 C CNN
F 2 "" H 3700 3700 60  0000 C CNN
F 3 "" H 3700 3700 60  0000 C CNN
	1    3700 3750
	1    0    0    -1  
$EndComp
$Comp
L GNDPWR #PWR?
U 1 1 5834BB04
P 3100 3750
F 0 "#PWR?" H 3100 3550 50  0001 C CNN
F 1 "GNDPWR" H 3100 3620 50  0000 C CNN
F 2 "" H 3100 3700 60  0000 C CNN
F 3 "" H 3100 3700 60  0000 C CNN
	1    3100 3750
	1    0    0    -1  
$EndComp
$Comp
L GNDPWR #PWR?
U 1 1 5834BB3C
P 2850 3750
F 0 "#PWR?" H 2850 3550 50  0001 C CNN
F 1 "GNDPWR" H 2850 3620 50  0000 C CNN
F 2 "" H 2850 3700 60  0000 C CNN
F 3 "" H 2850 3700 60  0000 C CNN
	1    2850 3750
	1    0    0    -1  
$EndComp
$EndSCHEMATC
